<!DOCTYPE html>
<html>
<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>

<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

<script src="https://unpkg.com/aframe-animation-component@3.2.5/dist/aframe-animation-component.min.js"></script>
  
<script>
	AFRAME.registerComponent('registerevents', {
		init: function () {
			var marker = this.el;
			marker.addEventListener('markerFound', function() {
				var markerId = marker.id;
				console.log('markerFound', markerId);
    
    var audio = new Audio ('https://cdn.glitch.com/8c9c3226-5a1b-463b-9d10-ae8407911c34%2Fvengabusogg.ogg?1548006824189');
    audio.play();
      	
			});
			marker.addEventListener('markerLost', function() {
				var markerId = marker.id;
				console.log('markerLost', markerId);
       
    audio.pause();
				
			});
		}
	});

  
  </script>

<body style="margin : 0px; overflow: hidden; font-family: Monospace;">
  
	<a-scene embedded arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
		
		<a-marker preset="hiro" id="marker-hiro" registerevents>
     
        <a-gltf-model id="bus" src="https://cdn.glitch.com/8c9c3226-5a1b-463b-9d10-ae8407911c34%2Fbuslow.glb?1547849332272" position="-0.66949 -1.03294 -0.93053" rotation="" scale="0.12641 0.12641 0.12641" ></a-gltf-model>
    
    <a-box position="0.00463 -0.54988 -1.31987" material="color:rgb(0,86,255)" geometry="" id="BoxTopDeck" scale="0.92171 0.11068 0.19882" animation__winanim="property:material.color;dir:alternate;easing:easeInOutQuad;to:#0000FF;dur:650;loop:true"></a-box>
   
   <a-box position="0.00989 -0.76576 -1.32227" material="color:rgb(0,169,255)" geometry="" id="BoxBotDeck" scale="0.61706 0.10842 -0.22322" animation__winanim="property:material.color;dir:alternate;easing:easeInOutQuad;to:#00FFFF;dur:650;loop:true"></a-box>
    
    
   <a-gltf-model id="speaker1" src="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269" position="-0.64135 -0.98662 -1.67123" rotation="0 70.17930849439402 0" scale="0.27315 0.28659 0.25228" color="#F55" radius="0.1" animation__scale="property:scale;dir:alternate;dur:200;easing:easeInSine;loop:true;to:0.3 0.3 0.3" animation-mixer="" gltf-model="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269"></a-gltf-model>
    
    <a-gltf-model id="speaker4" src="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269" position="-0.82727 -0.99436 -1.74224" rotation="0 37.68859080591042 0" scale="0.2681 0.21939 0.24367" animation__scale="property:scale;dir:alternate;dur:200;easing:easeInSine;loop:true;to:0.3 0.3 0.3" animation-mixer="" gltf-model="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269"></a-gltf-model>
    
    <a-gltf-model id="speaker2" src="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269" position="0.87184 -1 -1.80508" rotation="0 154.5931804510182 0" scale="0.2990633688437304 0.22630851920636802 0.3" animation__scale="property:scale;dir:alternate;dur:200;easing:easeInSine;loop:true;to:0.3 0.3 0.3" animation-mixer="" gltf-model="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269"></a-gltf-model>
    
    <a-gltf-model id="speaker3" src="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269" position="0.67543 -0.99989 -1.61573" rotation="0 126.89754654998448 0" scale="0.20487090892901605 0.2366200202451126 0.3" animation__scale="property:scale;dir:alternate;dur:200;easing:easeInSine;loop:true;to:0.3 0.3 0.3" animation-mixer="" gltf-model="https://cdn.glitch.com/9422da63-d3c2-4304-996c-380ef1641e94%2Fspeaker10.glb?1547506275269"></a-gltf-model>Ã­
  

    
    <a-entity id="RainbRing" geometry="primitive:ring;radiusInner:0.5;radiusOuter:0.525;thetaLength:180;segmentsTheta:31;segmentsPhi:1" position="0 -1.02822 -1.95009" scale="1.87 1.41 1.73" rotation="-17 0 0" material="color:#FFFF00 ; " animation__rranim="property:material.color;dir:alternate;easing:easeInOutQuad;to:#E74C3C    ;dur:650;loop:true"></a-entity>
    
    <a-entity id="RainbRing2" geometry="primitive:ring;radiusInner:0.5;radiusOuter:0.525;thetaLength:180;segmentsTheta:31;segmentsPhi:1" position="0 -1.02822 -1.95009" scale="1.97 1.48 1.73" rotation="-17 0 0" material="color:#FF0000" animation__rranim="property:material.color;dir:alternate;easing:easeInOutQuad;to:#00FFFF;dur:650;loop:true"></a-entity>
    
    <a-entity id="RainbRing3" geometry="primitive:ring;radiusInner:0.5;radiusOuter:0.525;thetaLength:180;segmentsTheta:31;segmentsPhi:1" position="0 -1.02822 -1.95009" scale="2.07 1.56 1.73" rotation="-17 0 0" material="color:#00FF00" animation__rranim="property:material.color;dir:alternate;easing:easeInOutQuad;to:#FF00FF;dur:650;loop:true"></a-entity>
    
   <a-entity id="RainbRing4" geometry="primitive:ring;radiusInner:0.5;radiusOuter:0.525;thetaLength:180;segmentsTheta:31;segmentsPhi:1" position="0 -1.02822 -1.95009" scale="2.18 1.62 1.73" rotation="-17 0 0" material="color:#0000FF" animation__rranim="property:material.color;dir:alternate;easing:easeInOutQuad;to:#FFFF00;dur:650;loop:true"></a-entity>
      
      
    <a-image src="https://cdn.glitch.com/8c9c3226-5a1b-463b-9d10-ae8407911c34%2FCircBanner.png?1548017108882" position="0 -0.3 -2.20103" material="" geometry="" scale="3.16 1 1" animation__scale="property:scale;dir:alternate;dur:200;easing:easeInSine;loop:true;to:3.16 1.5 1" animation-mixer ></a-image>
      
      <a-image src="https://cdn.glitch.com/56b4a2ab-b8ce-455c-9bcb-1c4d3041c7a7%2FbusTourBanner.png?1548198172088" position="0.01877 -0.59027 -1.14957" material="" geometry="" scale="0.90501 0.30865 0.2694"></a-image>
   
  
		</a-marker>

		<a-entity camera></a-entity>
    
	</a-scene>
</body>
</html>
